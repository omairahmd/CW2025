<?import com.comp2042.view.GameOverPanel?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import java.net.URL?>
<Pane fx:id="rootPane" fx:controller="com.comp2042.view.GuiController"
      xmlns:fx="http://javafx.com/fxml">
    <GridPane fx:id="brickPanel" vgap="1" hgap="1"/>
    <GridPane fx:id="ghostPanel" vgap="1" hgap="1" mouseTransparent="true"/>
    <BorderPane styleClass="gameBoard" fx:id="gameBoard">
        <center>
            <StackPane>
                <GridPane fx:id="gamePanel" hgap="1" vgap="1" layoutY="30"/>
                <Pane fx:id="gridOverlay" mouseTransparent="true"/>
            </StackPane>
        </center>
    </BorderPane>

    <Group fx:id="groupNotification" layoutY="203">
        <VBox alignment="CENTER">
            <GameOverPanel fx:id="gameOverPanel"/>
        </VBox>
    </Group>
    
    <!-- Pause Panel - Initially hidden -->
    <StackPane fx:id="pausePanelContainer" 
               visible="false" 
               managed="false"
               alignment="CENTER">
        <!-- Pause panel will be added programmatically -->
    </StackPane>
    
    <!-- Score Panel - Jungle themed left side panel -->
    <!-- Position is bound dynamically to game board in GuiController -->
    <VBox fx:id="scorePanel" styleClass="jungle-score-panel" alignment="CENTER" layoutY="60" spacing="5" prefWidth="110" maxWidth="110">
        <VBox fx:id="scoreContainer" spacing="8" alignment="CENTER" style="-fx-padding: 8px;">
            <Label fx:id="scoreLabel" text="0" styleClass="scoreClass" wrapText="true" textAlignment="CENTER" maxWidth="90"/>
            <VBox spacing="3" alignment="CENTER">
                <Label text="LEVEL" styleClass="scoreTitle"/>
                <Label fx:id="levelLabel" styleClass="scoreClass" text="1"/>
            </VBox>
            <VBox spacing="3" alignment="CENTER">
                <Label text="HIGHSCORE" styleClass="scoreTitle"/>
                <Label fx:id="highScoreLabel" text="0" styleClass="scoreClass"/>
            </VBox>
        </VBox>
    </VBox>
    
    <!-- Controls Panel - Jungle themed left side panel, positioned below score panel -->
    <VBox fx:id="controlsPanel" styleClass="jungle-controls-panel" alignment="CENTER" layoutY="240" spacing="8" prefWidth="110" maxWidth="110">
        <Label text="CONTROLS" styleClass="jungle-panel-title-small"/>
        <VBox fx:id="controlsContainer" spacing="4" alignment="CENTER" style="-fx-padding: 8px;">
            <VBox spacing="2" alignment="CENTER">
                <Label text="← → / A D" styleClass="controls-key"/>
                <Label text="Move" styleClass="controls-action"/>
            </VBox>
            <VBox spacing="2" alignment="CENTER">
                <Label text="↑ / W" styleClass="controls-key"/>
                <Label text="Rotate" styleClass="controls-action"/>
            </VBox>
            <VBox spacing="2" alignment="CENTER">
                <Label text="↓ / S" styleClass="controls-key"/>
                <Label text="Down" styleClass="controls-action"/>
            </VBox>
            <VBox spacing="2" alignment="CENTER">
                <Label text="SPACE" styleClass="controls-key"/>
                <Label text="Hard Drop" styleClass="controls-action"/>
            </VBox>
            <VBox spacing="2" alignment="CENTER">
                <Label text="ESC" styleClass="controls-key"/>
                <Label text="Pause" styleClass="controls-action"/>
            </VBox>
            <VBox spacing="2" alignment="CENTER">
                <Label text="N" styleClass="controls-key"/>
                <Label text="Restart" styleClass="controls-action"/>
            </VBox>
        </VBox>
    </VBox>
    
    <!-- Next Bricks Panel - Jungle themed side panel -->
    <!-- Position is bound dynamically to game board in GuiController -->
    <VBox fx:id="nextBricksPanel" styleClass="jungle-next-bricks-panel" layoutY="60" spacing="15">
        <Label text="NEXT" styleClass="jungle-panel-title"/>
        <VBox fx:id="nextBricksContainer" spacing="10" alignment="CENTER">
            <!-- Next bricks will be added here programmatically -->
        </VBox>
    </VBox>
    
    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>
</Pane>